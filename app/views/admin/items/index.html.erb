<div class="container">
  <div class="row" style="margin: 20px;">
    <div class="col-lg-12">
      <h4 style="margin: 0;"><strong>項目一覧</strong></h4>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <h5><strong>新規項目追加</strong></h5>
      <%= form_with model: @new_item, url: admin_items_path, method: :post, local: true do |form| %>
        <div class="form-group">
          <%= form.label :name, '項目名', class: 'font-weight-bold' %>
          <%= form.text_field :name, class: 'form-control', placeholder: '項目名を入力', style: 'max-width: 200px;' %>
        </div>
        <div class="form-group">
          <%= form.label :category, '収支区分', class: 'font-weight-bold' %>
          <%= form.select :category, options_for_select(['支出', '収入'], @new_item&.category || '支出'), class: 'form-control' %>
        </div>
        <%= form.submit '新規追加', class: 'btn btn-primary mt-1 mb-3' %>
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <h5><strong>支出項目</strong></h5>
      <ul class="list-group">
        <% @expenses.each do |expense| %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= expense.name %>
            <%= link_to '編集', edit_admin_item_path(expense.id), class: 'btn btn-success btn-sm' %>
          </li>
        <% end %>

        <% if @new_item&.category == '支出項目' && @new_item.persisted? %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= @new_item.name %>
            <%= link_to '編集', edit_admin_item_path(@new_item.id), class: 'btn btn-success btn-sm' %>
          </li>
        <% end %>        
      </ul>
    </div>

    <div class="col-lg-6">
      <h5><strong>収入項目</strong></h5>
      <ul class="list-group">
        <% @incomes.each do |income| %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= income.name %>
            <%= link_to '編集', edit_admin_item_path(income.id), class: 'btn btn-success btn-sm' %>
          </li>
        <% end %>
        
        <% if @new_item&.category == '収入項目' && @new_item.persisted? %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= @new_item.name %>
            <%= link_to '編集', edit_admin_item_path(@new_item.id), class: 'btn btn-success btn-sm' %>
          </li>
        <% end %>        
      </ul>
    </div>
  </div>

</div>
